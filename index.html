  <!DOCTYPE html>
  <html lang="ru">
  <head>
  	<meta charset="UTF-8">
  	<title>Обратная связь</title>
  	<link rel="stylesheet" href="main.css">
  	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  	<script src="./jquery.min.js"></script>
    <script>
  $(document).ready(function()
  { 
    var submitURL = './data.php';
    const emailRegex = /^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i;
    const name = /^\S[a-zа-я0-9_]+$/;
    const themeRegex = /^\S[a-zа-я0-9_ ]+$/;
    var reg1 = false;
    var cook;
    var feedback = $('#feedback1');
  $('#feedback1 a.submit').live('click',function(e){
   e.preventDefault();
   var button = $(this);
   var text = $(".text").val();
   
   if(!themeRegex.test($(".theme").val()))
    {
        alert("Некорректное название темы. Разрешено: a-z,а-я,0-9");
        return false;
  	}
   if(!name.test($(".name").val()))
    {
       alert("Некорректный имя. Разрешено: a-z,а-я,0-9");
        return false;
  	}
    if(!emailRegex.test($(".email").val()))
  	{
       alert("Некорректный email. Введите формата: email@example.com");
       return false;
  	}
  	button.addClass('working');
  	$.ajax({
  			url		: submitURL,
  			type	: 'post',
  			data	: {theme1:$(".theme").val(), 
                 name1 : $(".name").val(),
                 email1:$(".email").val(),
                 text1:$(".text").val()},
  			complete	: function(xhr){
  				
  				var text = xhr.responseText;
  				if(xhr.status == 404){
  					text = 'К путь к скрипту '+submitURL+' не верный.';
  				}
          button.fadeOut();
  				document.cookie="user=subscribe"; 
  			  reg1 = true;
  				$('.feedback').fadeOut(function(){
            $(".name").val('');
            $(".email").val('');
            var span = $('<span>',{
  						className	: 'response',
  						html		: text
  					})
  					.appendTo(feedback.find('.section'))
  					.show();
  					
  				});
  			}
  		});
  	return false;
  }); 
});
  </script>
  </head>
  <body>
    <div id="sidepoll_cont"></div>
      <div id="feedback1" style="display: block;"> 
    	  <div class="container">
            <div class="section"><div class="subscribe_header">Обратная связь</div>
            <div class="feedback">
            Тема<br><input class="theme" type="text">
            <br>
            Имя<br><input class="name" type="text">
            <br>Email<br><input class="email" type="text"><br>
            <p>Сообщение<br>
            <textarea rows="10" cols="30" class="text"></textarea></p>
         </div> 
         <a class="submit" href="">Отправить</a>
         </div>
         </div>
      </div>
  </body>
  </html>
  
  
  
